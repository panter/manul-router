{"version":3,"sources":["../src/create_nav_item.js"],"names":["nav","label","routeName","disabled","params","queryParams","path","manulRouter","getPath","currentPath","getCurrentPath","active","navItem","href","childActive","go","onClick","e","preventDefault"],"mappings":";;;;;;;;;;AAAA;;;;AACA;;;;;;AACA;;kBAEe;AAAA,SAAe,UAACA,GAAD,EAAS;AAAA,QAC7BC,KAD6B,GACuBD,GADvB,CAC7BC,KAD6B;AAAA,QACtBC,SADsB,GACuBF,GADvB,CACtBE,SADsB;AAAA,QACXC,QADW,GACuBH,GADvB,CACXG,QADW;AAAA,QACDC,MADC,GACuBJ,GADvB,CACDI,MADC;AAAA,QACOC,WADP,GACuBL,GADvB,CACOK,WADP;;;AAGrC,QAAMC,OAAOJ,aAAa,CAACC,QAAd,GAAyBI,YAAYC,OAAZ,CAAoBN,SAApB,EAA+BE,MAA/B,EAAuCC,WAAvC,CAAzB,GAA+E,IAA5F;;AAEA,QAAMI,cAAcF,YAAYG,cAAZ,EAApB;AACA,QAAMC,SAASF,gBAAgBH,IAA/B;AACA,QAAMM,qCACDZ,GADC;AAEJa,YAAMP,IAFF;AAGJK,oBAHI;AAIJG,mBAAa,CAACH,MAAD,IAAW,0BAAWF,WAAX,EAAwBH,IAAxB,CAJpB;AAKJL;AALI,MAAN;AAOA,QAAMc,KAAK,SAALA,EAAK;AAAA,aAAMR,YAAYQ,EAAZ,CAAeH,OAAf,CAAN;AAAA,KAAX;AACA,QAAMI,UAAU,SAAVA,OAAU,CAACC,CAAD,EAAO;AACrB,UAAIA,KAAKA,EAAEC,cAAX,EAA2B;AACzBD,UAAEC,cAAF;AACD;AACD,UAAIN,QAAQD,MAAZ,EAAoB;AAClB;AACD;AACD,2BAAMI,EAAN;AACD,KARD;;AAUA;AACEA;AADF,OAEKH,OAFL;AAGE;AACAI,eAAShB,IAAIgB,OAAJ,IAAeA;AAJ1B;AAMD,GA/Bc;AAAA,C","file":"create_nav_item.js","sourcesContent":["import startsWith from 'lodash/startsWith';\nimport defer from 'lodash/defer';\n// use this from context()\n\nexport default manulRouter => (nav) => {\n  const { label, routeName, disabled, params, queryParams } = nav;\n\n  const path = routeName && !disabled ? manulRouter.getPath(routeName, params, queryParams) : null;\n\n  const currentPath = manulRouter.getCurrentPath();\n  const active = currentPath === path;\n  const navItem = {\n    ...nav,\n    href: path,\n    active,\n    childActive: !active && startsWith(currentPath, path),\n    label,\n  };\n  const go = () => manulRouter.go(navItem);\n  const onClick = (e) => {\n    if (e && e.preventDefault) {\n      e.preventDefault();\n    }\n    if (navItem.active) {\n      return;\n    }\n    defer(go);\n  };\n\n  return {\n    go,\n    ...navItem,\n    // overridable, if not falsy, spreading navItem after this does not handle this correctly\n    onClick: nav.onClick || onClick,\n  };\n};\n"]}